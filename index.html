<!-- 途中までは元ファイル完全そのまま -->

<button id="drawBtn">抽選</button>

<div class="box">
  <h2>抽選結果</h2>
  <div id="result" class="list result-anim"><!-- ★class追加 -->
  </div>
</div>

<!-- 以下 JS -->
<script>
/* ===== 抽選 ===== */

function animateResult(){
  const r=document.getElementById('result');
  r.classList.remove('show');
  void r.offsetWidth; // ★再描画トリガ
  r.classList.add('show');
}

/* === 新規抽選 === */
function draw(){
  if(pool.length<8){
    alert('抽選対象が8人未満です');
    return;
  }

  // ★抽選前にアニメーション初期化
  document.getElementById('result').classList.remove('show');

  const result=randomTeam(pool,8);

  setTimeout(()=>{
    renderResult(result);
    animateResult(); // ★ここだけ追加
    addHistory(result);
  },600); // ★一瞬の間を作る
}

/* === ロックあり再抽選 === */
function reroll(){
  const result=randomTeamWithLock(pool,8);

  document.getElementById('result').classList.remove('show');

  setTimeout(()=>{
    renderResult(result);
    animateResult(); // ★同じ演出
    addHistory(result);
  },600);
}
</script>
