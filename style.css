:root{
  --bg:#020617;
  --panel:#0f172a;
  --border:#334155;
  --text:#e5e7eb;
  --accent:#38bdf8
}

*{box-sizing:border-box}

body{
  margin:0;
  padding:20px;
  font-family:"Segoe UI",sans-serif;
  background:radial-gradient(circle at top,#1e293b,#020617);
  color:var(--text)
}

h1{text-align:center;margin-bottom:10px}
.sub{text-align:center;margin:20px 0 6px}

/* ===== フィルター ===== */
.filter-box{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:14px;
  padding:12px;
  margin-bottom:10px
}

.filters{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  justify-content:center
}

label{cursor:pointer}

/* ===== ボタン ===== */
.center{text-align:center;margin:10px 0}
button{
  padding:6px 14px;
  border-radius:999px;
  border:1px solid var(--border);
  background:#020617;
  color:var(--text);
  cursor:pointer
}

button:hover{border-color:var(--accent)}

/* ===== メイン ===== */
.drag-area{
  display:flex;
  gap:12px;
  justify-content:center;
  margin-top:10px
}

.box{
  width:32%;
  min-height:260px;
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:14px;
  padding:10px
}

/* ★ 追記：ロック中の見た目強化（最小） */
.box.locked{
  opacity:0.55;
  border-color:var(--accent)
}

.lock{
  cursor:pointer;
  margin-left:6px
}

.list{
  display:flex;
  flex-wrap:wrap;
  gap:6px
}

.card{
  width:72px;
  text-align:center;
  cursor:grab;
  user-select:none
}

.card img{width:64px}

.shuffling{
  animation:flash .25s linear infinite alternate
}

@keyframes flash{
  from{opacity:.5}
  to{opacity:1}
}

/* ===== キャラ所持 ===== */
.character-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,80px);
  gap:8px;
  justify-content:center;
  margin-top:10px
}

.char{
  text-align:center;
  cursor:pointer;
  position:relative
}

.char img{width:64px}

.char.off{opacity:.3}

.char.used::after{
  content:"✔";
  position:absolute;
  top:0;
  right:6px;
  color:#22c55e;
  font-weight:bold
}

/* ===== 履歴 ===== */
.history{margin-top:20px}
.history-item{
  border-bottom:1px solid var(--border);
  padding:6px;
  cursor:pointer
}

.history-icons img{
  width:32px;
  margin:2px
}

.counter{
  text-align:center;
  margin:8px;
  font-weight:bold
}
